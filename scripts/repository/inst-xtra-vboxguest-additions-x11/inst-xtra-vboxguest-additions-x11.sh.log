CLDS:>>>>>>>>> Running inst-xtra-vboxguest-additions-x11.sh ...
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  libnotify-bin linux-headers-amd64
0 upgraded, 2 newly installed, 0 to remove and 19 not upgraded.
Need to get 13.0 kB/19.7 kB of archives.
After this operation, 47.1 kB of additional disk space will be used.
Get:1 http://localhost/aptly-repo/master_stretch-main stretch/main amd64 libnotify-bin amd64 0.7.7-2 [13.0 kB]
Fetched 13.0 kB in 0s (0 B/s)
Download complete and in download only mode
Reading package lists...
Building dependency tree...
Reading state information...
dkms is already the newest version (2.3-2).
libc6-dev is already the newest version (2.24-11+deb9u3).
0 upgraded, 0 newly installed, 0 to remove and 19 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
linux-headers-4.18.0-0.bpo.1-amd64 is already the newest version (4.18.6-1~bpo9+1).
0 upgraded, 0 newly installed, 0 to remove and 19 not upgraded.
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  libnotify-bin virtualbox-guest-dkms virtualbox-guest-utils
The following NEW packages will be installed:
  libnotify-bin virtualbox-guest-dkms virtualbox-guest-utils
  virtualbox-guest-x11
0 upgraded, 4 newly installed, 0 to remove and 19 not upgraded.
Need to get 2,130 kB/2,143 kB of archives.
After this operation, 16.3 MB of additional disk space will be used.
Get:1 http://localhost/aptly-repo/master_stretch-backports-contrib stretch-backports/contrib amd64 virtualbox-guest-dkms all 5.2.18-dfsg-2~bpo9+1 [609 kB]
Get:2 http://localhost/aptly-repo/master_stretch-backports-contrib stretch-backports/contrib amd64 virtualbox-guest-utils amd64 5.2.18-dfsg-2~bpo9+1 [449 kB]
Get:3 http://localhost/aptly-repo/master_stretch-backports-contrib stretch-backports/contrib amd64 virtualbox-guest-x11 amd64 5.2.18-dfsg-2~bpo9+1 [1,072 kB]
Fetched 2,130 kB in 0s (28.2 MB/s)
Selecting previously unselected package libnotify-bin.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 102036 files and directories currently installed.)
Preparing to unpack .../libnotify-bin_0.7.7-2_amd64.deb ...
Unpacking libnotify-bin (0.7.7-2) ...
Selecting previously unselected package virtualbox-guest-dkms.
Preparing to unpack .../virtualbox-guest-dkms_5.2.18-dfsg-2~bpo9+1_all.deb ...
Unpacking virtualbox-guest-dkms (5.2.18-dfsg-2~bpo9+1) ...
Selecting previously unselected package virtualbox-guest-utils.
Preparing to unpack .../virtualbox-guest-utils_5.2.18-dfsg-2~bpo9+1_amd64.deb ...
Unpacking virtualbox-guest-utils (5.2.18-dfsg-2~bpo9+1) ...
Selecting previously unselected package virtualbox-guest-x11.
Preparing to unpack .../virtualbox-guest-x11_5.2.18-dfsg-2~bpo9+1_amd64.deb ...
Unpacking virtualbox-guest-x11 (5.2.18-dfsg-2~bpo9+1) ...
Setting up virtualbox-guest-dkms (5.2.18-dfsg-2~bpo9+1) ...
Loading new virtualbox-guest-5.2.18 DKMS files...
Building for 4.18.0-0.bpo.1-amd64
Building initial module for 4.18.0-0.bpo.1-amd64
Done.

vboxguest:
Running module version sanity check.
 - Original module
   - Multiple original modules exist but DKMS does not know which to pick
   - Due to the confusion, none will be considered during a later uninstall
 - Multiple same named modules!
   - 2 named vboxguest.ko in /lib/modules/4.18.0-0.bpo.1-amd64/
 - Installation
   - Installing to /lib/modules/4.18.0-0.bpo.1-amd64/updates/dkms/

vboxsf.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.18.0-0.bpo.1-amd64/updates/dkms/

vboxvideo.ko:
Running module version sanity check.
Error! Module version 5.2.18_Debian for vboxvideo.ko
is not newer than what is already found in kernel 4.18.0-0.bpo.1-amd64 (5.2.18_Debian).
You may override by specifying --force.

depmod....

DKMS: install completed.
Setting up libnotify-bin (0.7.7-2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Processing triggers for systemd (232-25+deb9u4) ...
Setting up virtualbox-guest-utils (5.2.18-dfsg-2~bpo9+1) ...
Created symlink /etc/systemd/system/multi-user.target.wants/virtualbox-guest-utils.service â†’ /lib/systemd/system/virtualbox-guest-utils.service.
Setting up virtualbox-guest-x11 (5.2.18-dfsg-2~bpo9+1) ...

Configuration file '/etc/X11/Xsession.d/98vboxadd-xclient'
 ==> File on system created by you or by a script.
 ==> File also in package provided by package maintainer.
   What would you like to do about it ?  Your options are:
    Y or I  : install the package maintainer's version
    N or O  : keep your currently-installed version
      D     : show the differences between the versions
      Z     : start a shell to examine the situation
 The default action is to keep your current version.
*** 98vboxadd-xclient (Y/I/N/O/D/Z) [default=N] ? D
--- /etc/X11/Xsession.d/98vboxadd-xclient	2018-10-31 21:54:20.660399324 +0
000
+++ /etc/X11/Xsession.d/98vboxadd-xclient.dpkg-new	2018-09-20 06:51:32.0000
00000 +0000
@@ -15,6 +15,17 @@
 # hope that it will be useful, but WITHOUT ANY WARRANTY of any kind.
 #
 
+in_virtual_machine()
+{
+	if [ -z "$(lspci -d 80ee:beef)" ]; then
+	echo "VirtualBox Additions disabled, not in a Virtual Machine" >&2
+	return 1
+	fi
+
+	return 0
+}
+in_virtual_machine || return
+
 # Sanity check: if non-writeable PID-files are present in the user home
 # directory VBoxClient will fail to start.
 for i in $HOME/.vboxclient-*.pid; do
@@ -30,9 +41,9 @@
[7m--More--[27m    # This script can also be triggered by a connection over SSH, which is not
[7m--More--[27m    # what we had in mind, so we do not start VBoxClient in that case.  We do
[7m--More--[27m    # not use "exit" here as this script is "source"d, not executed.
[7m--More--[27m-  /usr/bin/VBoxClient --clipboard
[7m--More--[27m-  /usr/bin/VBoxClient --checkhostversion
[7m--More--[27m-  /usr/bin/VBoxClient --display
[7m--More--[27m-  /usr/bin/VBoxClient --seamless
[7m--More--[27m-  /usr/bin/VBoxClient --draganddrop
[7m--More--[27m+  /usr/bin/VBoxClient --clipboard || true
[7m--More--[27m+  /usr/bin/VBoxClient --checkhostversion || true
[7m--More--[27m+  /usr/bin/VBoxClient --display || true
[7m--More--[27m+  /usr/bin/VBoxClient --seamless || true
[7m--More--[27m+  /usr/bin/VBoxClient --draganddrop || true
[7m--More--[27m fi[K

Configuration file '/etc/X11/Xsession.d/98vboxadd-xclient'
 ==> File on system created by you or by a script.
 ==> File also in package provided by package maintainer.
   What would you like to do about it ?  Your options are:
    Y or I  : install the package maintainer's version
    N or O  : keep your currently-installed version
      D     : show the differences between the versions
      Z     : start a shell to examine the situation
 The default action is to keep your current version.
*** 98vboxadd-xclient (Y/I/N/O/D/Z) [default=N] ? Y
Installing new version of config file /etc/X11/Xsession.d/98vboxadd-xclient ...
Processing triggers for systemd (232-25+deb9u4) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
CLDS: * Install virtualbox-guest-x11 to have full screen and cross copy and paste.
CLDS: * VirtualBox guest additions installed: version: 5.2.18_Debian r123745.
CLDS: * Disk size = 6359372K. Space Used = 20224K. Runtime = 00:00:04:20.
