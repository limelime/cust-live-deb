# Generate new GNU PG key to sign.
    (
        cd /media/master/github/aptly/conf/gnupg2
        ./aptly-gpg-generate-keys.sh
        cat aptly-gpg-generate-keys.sh.public.key.pub | apt-key add -
        yes | cp -av aptly-gpg-generate-keys.sh.p*.key.* /media/master/github/aptly/
    )
    
# Add new hard drive for Aptly.
    # Make dir structure.
        mkdir -p /media/deb-repo-03/data/.aptly
        
    # Copy data only.
        (
            cd /media/deb-repo-02/data/.aptly
            cp -a pool public /media/deb-repo-03/data/.aptly
        )
    
    # Make deb-repo-03/ executable for Apache.
        chmod 755 /media/deb-repo-03/
        
# Update the following FB_* variable to point the new path: ../firstboot-work/scripts/xtra-work-aptly
    FB_APTLY_GNUPG_DIR
    FB_APTLY_CONFIG_DIR
    FB_APTLY_APACHE_DIR

# Add missing keys to trusted keyring. 
    # Run /aptly/mirrors-rebuild.sh to get all missing keys.

    # Don't know why you are forced to import into ~/.gnupg/trustedkeys.gpg.
        keys=(AA8E81B4331F7F50 112695A0E562B32A DCC9EFBF77E11517 5C808C2B65558117 F1656F24C74CD1D8 A2F683C52980AECF ED75B5A4483DA07C A03BE326C0EF29A4)
        gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys ${keys[@]}

        gpg --no-default-keyring -a --export ${keys[@]} \
            | gpg --no-default-keyring --keyring ~/.gnupg/trustedkeys.gpg --import -

# Copy ~/.gnupg/trustedkeys.gpg to be reused permanently.
    mkdir -p /media/deb-repo-03/config/gnupg
    chown -R $(whoami) /media/deb-repo-03/config/gnupg
    find /media/deb-repo-03/config/gnupg -type f -exec chmod 600 {} \;
    find /media/deb-repo-03/config/gnupg -type d -exec chmod 700 {} \;

    cp -a ~/.gnupg/* /media/deb-repo-03/config/gnupg


# Add public key of the private key generate.
    (
        cd /media/master/github/aptly
        cat aptly-gpg-generate-keys.sh.public.key.pub | gpg --no-default-keyring --keyring ~/.gnupg/trustedkeys.gpg --import -
    )
    